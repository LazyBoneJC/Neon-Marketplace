name: marketplaceIndexer
project_type: no-code
config: {}
timestamps: null
networks:
    - name: sepolia
      chain_id: 11155111
      rpc: ${SEPOLIA_RPC_URL}
      #   降低輪詢頻率: 每 30 秒輪詢一次，減少 RPC 呼叫量
      block_poll_frequency: 30s
      #   限制每次抓取的區塊範圍 (避免一次抓太多導致 Alchemy 報錯)
      max_block_range: 2000

storage:
    postgres:
        enabled: true
        connection_string: ${DATABASE_URL}

native_transfers:
    enabled: false

contracts:
    - name: NftMarketplace
      details:
          - network: sepolia
            address: ${NFT_MARKETPLACE_ADDRESS}
            start_block: 9723149
      abi: ./abis/NftMarketplace.abi.json
      include_events:
          - ItemListed
          - ItemCanceled
          - ItemBought

global:
    health_port: 0

graphql:
    port: 8080
